<div class="navbar navbar-default navbar-static-top" style="background: #fff;">
  <div class="container" id= "header" style="background: #fff;">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Mongo Table Admin</a>
    </div>

    <div class="collapse navbar-collapse navbar-left" id="navbar-left">
      <ul class="nav navbar-nav">
        <li><a id="create-link" href='/create'>Create Collection</a></li>
      </ul>
    </div>

    <div class="collapse navbar-collapse navbar-right" id="navbar-right">
      <ul class="nav navbar-nav">
        <li id="switch-li"></li>
        <li><button id="chooseCollection" onclick="Menu(this)" style="margin:8px;" class="btn btn-default">Collections</button></li>
        <li><button id="chooseDatabase" onclick="Menu(this)" style="margin:8px;" class="btn btn-default">Databases</button></li>        
      </ul>

    </div>
  </div>
</div>

<script>
  var switchLiNode = document.querySelector('#switch-li')
  var o = Router.getDb()

  document.querySelector("#create-link").href = '/' + o.title + '/' + o.urlDbName  + '/create/'

  if (['pivot', 'table'].indexOf(o.view) != -1) {
    if (o.view == 'pivot') {
      UI.button({
        innerHTML: 'Switch to table',
        id: 'switch-to-table',
        style: {
          margin: '8px'
        },
        parent: switchLiNode
      }, function () {
        Router.changeView('table')
      })
    } else {
      UI.button({
        innerHTML: 'Switch to pivot',
        id: 'switch-to-pivot',
        parent: switchLiNode,
        style: {
          margin: '8px'
        }
      }, function () {
        Router.changeView('pivot')
      })
    }
  }
</script>